<head>
</head>
<main id="main" class="main">
    <div class="pagetitle">
        <h1>Liste des offres</h1>
        <nav>
            <ol class="breadcrumb">
                <li class="breadcrumb-item active">Offres</li>
            </ol>
        </nav>
    </div>
    <div class="container">
        <button class="button1" data-bs-toggle="modal" data-bs-target="#addModal">Ajouter une offre</button>

        <ng-container *ngIf="offres && offres.length > 0">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Nom du Pack</th>
                        <th scope="col">Description</th>
                        <th scope="col">PÃ©riode du Pack</th>
                        <th scope="col">Prix en DT</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let offre of offres; let i = index">
                        <td>{{ (currentPage - 1) * itemsPerPage + i + 1 }}</td>
                        <td>{{ offre.nomPack }}</td>
                        <td>{{ offre.description }}</td>
                        <td>{{ offre.periodePack }}</td>
                        <td>{{ offre.prixPack }}dt</td>
                        <td style="display: flex; justify-content: center; align-items: center;">
                            <button class="btn btn-edit" data-bs-toggle="modal" data-bs-target="#editModal"
                            (click)="getNomPack(offre.pack); useNomPack()" (click)="openEditModal(offre)">
                        <i class="fa fa-edit"></i>
                      </button>
                      <button class="btn btn-delete" (click)="deleteOffre(offre)">
                  <i class="fa fa-trash"></i>
                </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </ng-container>
        <div *ngIf="!offres || offres.length === 0">
            <h3>Pas d'offres ðŸ˜µ</h3>
        </div>
    </div>
</main>

<form>
    <div class="modal fade" id="editModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Modifier l'offre</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        fdprocessedid="rus26i"></button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="nomPack">Nom de Pack:</label>
                        <input type="text" name="nomPack" [(ngModel)]="nomPack" class="form-control" id="nomPack">
                    </div>
                    <div class="form-group">
                        <label for="description">Description:</label>
                        <textarea name="description" [(ngModel)]="description" class="form-control" id="description"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="periodePack">PÃ©riode du Pack:</label>
                        <input type="text" name="periodePack" [(ngModel)]="periodePack" class="form-control"
                            id="periodePack">
                    </div>
                    <div class="form-group">
                        <label for="prixPack">Prix du Pack en DT:</label>
                        <input type="text" name="prixPack" [(ngModel)]="prixPack" class="form-control" id="prixPack">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" (click)="editOffre(nomPack)">Modifier</button>
                </div>
            </div>
        </div>
    </div>
</form>



<form>
    <div class="modal fade" id="addModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ajouter une offre</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                        fdprocessedid="ee0oo"></button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="nomPack">Nom de Pack:</label>
                        <input type="text" name="nomPack" [(ngModel)]="nomPack" class="form-control" id="nomPack">
                    </div>
                    <div class="form-group">
                        <label for="description">Description:</label>
                        <textarea name="description" [(ngModel)]="description" class="form-control" id="description"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="periodePack">PÃ©riode du Pack:</label>
                        <input type="text" name="periodePack" [(ngModel)]="periodePack" class="form-control"
                            id="periodePack">
                    </div>
                    <div class="form-group">
                        <label for="prixPack">Prix du Pack en DT:</label>
                        <input type="text" name="prixPack" [(ngModel)]="prixPack" class="form-control" id="prixPack">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" (click)="createOffre()">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>
</form>