 <head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<main id="main" class="main">
<div class="pagetitle">
    <h3>Liste des Annonceurs</h3>
    <nav>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a routerLink="/">Accueil</a></li>
            <li class="breadcrumb-item active">Annonceurs</li>
        </ol>
    </nav>
</div>
<div class="container"  *ngIf="annonceurs.length > 0; else pasAnnonceurs">
    <input class="input1" type="text" [(ngModel)]="searchText" placeholder="Chercher Annonceur">
    <button  class="button1" data-bs-toggle="modal" data-bs-target="#addModal">Ajouter un annonceur</button>
    <table class="table">
        <thead>
            <tr>
                <th>#</th>
                <th>Nom d'utilisateur</th>
                <th>Email</th>
                <th>Action</th>
             </tr>
        </thead>
        <tbody>
            <tr *ngFor="let annonceur of getPaginatedAnnonceurs(); let i = index">
                <td>{{ (currentPage - 1) * itemsPerPage + i + 1 }}</td>
                <td>{{annonceur.username }}</td>
                <td>{{ annonceur.email }}</td>
                
                   <td style="display: flex; justify-content: center; align-items: center;">
                    <button class="btn btn-delete" (click)="deleteAnnonceur(annonceur.email)">
                        <i class="fa fa-trash"></i>
                    </button>

                    <button class="btn btn-edit" data-bs-toggle="modal" data-bs-target="#editModal" (click)="getEmail(annonceur.email); useEmail()">
                        <i class="fa fa-edit"></i>
                    </button>
              
                </td>
             </tr>
        </tbody>
    </table>
    <div class="pagination">
        <button [disabled]="currentPage === 1" (click)="currentPage = currentPage - 1">Pr√©c√©dente</button>
        <button *ngFor="let page of getPaginationArray()" [class.active]="currentPage === page"
           (click)="currentPage = page">{{ page }}</button>
        <button [disabled]="currentPage === getTotalPages()" (click)="currentPage = currentPage + 1">Suivante</button>
     </div>
</div>

<ng-template #pasAnnonceurs>
    <section class="section min-vh-100 d-flex flex-column align-items-center justify-content-center">
        <div class="col-lg-6">
            <h2>Pas des Annonceurs!! üòµ</h2>
            <button class="button2" data-bs-toggle="modal" data-bs-target="#addModal">Ajouter Annonceur</button>
        </div>
    </section>
</ng-template>
</main>
<form>
    <div class="modal fade" id="editModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Modifier l'annonceur</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" fdprocessedid="rus26i"></button>                </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="username">Nom d'utilisateur:</label>
                            <input type="text" name="username" [(ngModel)]="username" class="form-control" id="username" >
                        </div>
                        <div class="form-group">
                            <label for="email">Adresse email:</label>
                            <input type="email" name="email" [(ngModel)]="email" class="form-control" id="email">
                        </div>
                        <div class="form-group">
                            <label for="tel">Num√©ro de t√©l√©phone:</label>
                            <input type="tel" name="tel" [(ngModel)]="tel" class="form-control" id="tel">
                        </div>
                        <div class="form-group">
                            <label for="nomE">Nom de l'entreprise:</label>
                            <input type="text" name="nomE" [(ngModel)]="nomE" class="form-control" id="nomE">
                        </div>
                        <div class="form-group">
                            <label for="emailE">Adresse email de l'entreprise:</label>
                            <input type="email" name="emailE" [(ngModel)]="emailE" class="form-control" id="emailE" >
                        </div>
                        <div class="form-group">
                            <label for="adresseE">Adresse de l'entreprise:</label>
                            <input type="text" name="adresseE" [(ngModel)]="adresseE" class="form-control" id="adresseE">
                        </div>
                        <div class="form-group">
                            <label for="domaineE">Domaine de l'entreprise:</label>
                            <input type="text" name="domaineE" [(ngModel)]="domaineE" class="form-control" id="domaineE">
                        </div>
                    </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" (click)="editAnnonceur()">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>
</form>



<form>
    <div class="modal fade" id="addModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Ajouter un annonceur</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" fdprocessedid="ee0oo"></button>                </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="username">Nom d'utilisateur:</label>
                            <input type="text" name="username" [(ngModel)]="username" class="form-control" id="username" >
                        </div>
                        <div class="form-group">
                            <label for="email">Adresse email:</label>
                            <input type="email" name="email" [(ngModel)]="email" class="form-control" id="email">
                        </div>   
                        <div class="form-group">
                            <label for="password">Mot de Passe:</label>
                            <input type="password" name="password" [(ngModel)]="password" class="form-control" id="password">
                        </div>       
                    </div>
                <div class="modal-footer">
                    <button type="submit" class="btn btn-primary" (click)="createAnnonceur()">Enregistrer</button>
                </div>
            </div>
        </div>
    </div>
</form>
